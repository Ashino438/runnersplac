<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºæ¯”è¼ƒãƒ»ãŠã™ã™ã‚è©•ä¾¡ã‚µã‚¤ãƒˆï½œæœ€æ–°ãƒ¢ãƒ‡ãƒ«å¾¹åº•ãƒ¬ãƒ“ãƒ¥ãƒ¼</title>
  <meta name="description" content="æœ€æ–°ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºã®æ€§èƒ½ãƒ»ä¾¡æ ¼ãƒ»ç”¨é€”ã‚’å¾¹åº•æ¯”è¼ƒã€‚å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ç·åˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚‚æ²è¼‰ã€‚åˆå¿ƒè€…ã‹ã‚‰ä¸Šç´šè€…ã¾ã§ã€è‡ªåˆ†ã«åˆã†ä¸€è¶³ãŒè¦‹ã¤ã‹ã‚‹ã€‚">
  <meta name="keywords" content="ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚º, ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚º æ¯”è¼ƒ, ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚º ãŠã™ã™ã‚, ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚º è©•ä¾¡, ãƒãƒ©ã‚½ãƒ³ ã‚·ãƒ¥ãƒ¼ã‚º, ã‚¸ãƒ§ã‚®ãƒ³ã‚° ã‚·ãƒ¥ãƒ¼ã‚º, åšåº•ã‚·ãƒ¥ãƒ¼ã‚º">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="_5czcBL4tvbzQxBywCtZMynFRJHnP9ddVkyZN0i2zsI">

  <!-- OGP -->
  <meta property="og:title" content="ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºæ¯”è¼ƒãƒ»ãŠã™ã™ã‚è©•ä¾¡ã‚µã‚¤ãƒˆï½œæœ€æ–°ãƒ¢ãƒ‡ãƒ«å¾¹åº•ãƒ¬ãƒ“ãƒ¥ãƒ¼">
  <meta property="og:description" content="æœ€æ–°ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºã‚’æ€§èƒ½ãƒ»ä¾¡æ ¼ãƒ»ç”¨é€”åˆ¥ã«å¾¹åº•æ¯”è¼ƒã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚å……å®Ÿã€‚åˆå¿ƒè€…ã€œä¸Šç´šè€…ã¾ã§ã€è‡ªåˆ†ã«åˆã†ã‚·ãƒ¥ãƒ¼ã‚ºãŒè¦‹ã¤ã‹ã‚‹ã€‚">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ã‚ãªãŸã®ãƒ‰ãƒ¡ã‚¤ãƒ³">
  <meta property="og:image" content="https://ã‚ãªãŸã®ãƒ‰ãƒ¡ã‚¤ãƒ³/ogp-image.jpg">
  <meta property="og:site_name" content="ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºæ¯”è¼ƒãƒ»ãŠã™ã™ã‚è©•ä¾¡ã‚µã‚¤ãƒˆ">

  <!-- Twitterã‚«ãƒ¼ãƒ‰ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºæ¯”è¼ƒãƒ»ãŠã™ã™ã‚è©•ä¾¡ã‚µã‚¤ãƒˆï½œæœ€æ–°ãƒ¢ãƒ‡ãƒ«å¾¹åº•ãƒ¬ãƒ“ãƒ¥ãƒ¼">
  <meta name="twitter:description" content="æœ€æ–°ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºã‚’æ€§èƒ½ãƒ»ä¾¡æ ¼ãƒ»ç”¨é€”åˆ¥ã«å¾¹åº•æ¯”è¼ƒã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚å……å®Ÿã€‚åˆå¿ƒè€…ã€œä¸Šç´šè€…ã¾ã§ã€è‡ªåˆ†ã«åˆã†ã‚·ãƒ¥ãƒ¼ã‚ºãŒè¦‹ã¤ã‹ã‚‹ã€‚">
  <meta name="twitter:image" content="https://ã‚ãªãŸã®ãƒ‰ãƒ¡ã‚¤ãƒ³/ogp-image.jpg">

  <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <!-- CSS & JS -->
  <link rel="stylesheet" href="/css/home.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
 
  <div id="nickname-popup" style="display:none; position:fixed; top:30%; left:50%; transform:translate(-50%, -50%); background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.2); z-index:999;">
  <p>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š</p>
  <input type="text" id="nickname-input" placeholder="ä¾‹ï¼šãã‚ˆã—"><br><br>
  <button id="save-nickname">ä¿å­˜</button>
</div>

  <header class="main-header">
    <h1>runnersplac-db</h1>
    <nav>
      <a href="/">ãƒ›ãƒ¼ãƒ </a>
      <a href="/about">ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</a>
      <a href="https://www.instagram.com/25553runner" >Instagram</a>
      <span id="user-info">
      <button id="login-btn">ãƒ­ã‚°ã‚¤ãƒ³</button>
      <span id="user-name" style="display:none;"></span>
      <button id="logout-btn" style="display:none;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </span>
  </div></a>
    </nav>
  </header>

  <main>
    <section class="intro">
      <p>ã“ã®ã‚µã‚¤ãƒˆã¯ã€å®Ÿéš›ã«èµ°ã‚‹ã¿ã‚“ãªã®ã€Œãƒªã‚¢ãƒ«ãªè©•ä¾¡ã€ã¨ç®¡ç†äººã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é›†ã‚ã¦ã€  
ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºé¸ã³ã‚’â€œãƒ‡ãƒ¼ã‚¿ã¨æ„Ÿæƒ³â€ã§å¾¹åº•ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ¯”è¼ƒã‚µã‚¤ãƒˆã§ã™ã€‚  
ã‚¯ãƒƒã‚·ãƒ§ãƒ³ã‚„å®‰å®šæ€§ã€è»½ã•ãªã©å„é …ç›®ã®ã‚¹ã‚³ã‚¢ã‚„è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¸€è¦§ã§ãƒã‚§ãƒƒã‚¯ã§ãã€  
è‡ªåˆ†ã«åˆã†1è¶³ã‚’ã˜ã£ãã‚Šé¸ã¹ã¾ã™ã€‚

æœ€çµ‚çš„ã«ã¯ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ç³»SNSã§æœ€å¤§ã«ãªã‚Œã‚‹ã‚ˆã†ã«é ‘å¼µã£ã¦ã„ãã¾ã™ï¼å¿œæ´ãŠã­ãŒã„ã—ã¾ã™ï¼

è©³ç´°ãƒœã‚¿ãƒ³ã‚ˆã‚Šã‚·ãƒ¥ãƒ¼ã‚ºã®ç´°ã‹ã„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼
</p>
    </section>
    <section class="search-box">
  <input type="text" id="searchInput" placeholder="ã‚·ãƒ¥ãƒ¼ã‚ºåã§æ¤œç´¢" />
</section>
<button id="toggleFilter" style="margin: 10px 0;">â–¼ çµã‚Šè¾¼ã¿æ¡ä»¶ã‚’è¡¨ç¤º</button>

<div class="filter-container">
  

  <!-- é‡ã• -->

  <label >
    min:
<input type="range" id="weightMin" min="100" max="400" step="5" value="100"><span id="weightMinValue"></span>

  </label>
  <br>
  <label >
    max:
  <input type="range" id="weightMax" min="100" max="400" step="5" value="400"><span id="weightMaxValue"></span>
  </label>
<p id="weightRangeDisplay">é‡ã•: --- gã€œ --- g</p>





  <!-- ä¾¡æ ¼ -->
  
<label>
  æœ€å°ä¾¡æ ¼: 
  <input type="range" id="priceMin" min="0" max="40000" step="100" value="0">
  <span id="priceMinValue">5000å††</span>
</label>
<br>
<label>
  æœ€å¤§ä¾¡æ ¼: 
  <input type="range" id="priceMax" min="0" max="40000" step="100" value="40000">
  <span id="priceMaxValue">15000å††</span>
</label>
<p id="priceRangeDisplay">ä¾¡æ ¼: --- å††ã€œ --- å††</p>

<label for="dropMin">æœ€å°ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆmmï¼‰: 
  <input type="range" id="dropMin" min="0" max="20" step="1" value="0">
  <span id="dropMinValue">0mm</span>
</label>

<label for="dropMax">æœ€å¤§ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆmmï¼‰: 
  <input type="range" id="dropMax" min="0" max="20" step="1" value="15">
  <span id="dropMaxValue">15mm</span>
</label>


  <!-- æ€§èƒ½ã‚¹ã‚³ã‚¢ -->
  <fieldset>
    <legend>æ€§èƒ½ã‚¹ã‚³ã‚¢ã®ä¸‹é™ï¼ˆã€‡ç‚¹ä»¥ä¸Šï¼‰</legend>
    <label>ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§: <input type="number" id="minCushion" min="0" max="5" step="0.5"></label>
    <label>ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½: <input type="number" id="minSpeed" min="0" max="5" step="0.5"></label>
  
  <label>å®‰å®šæ€§: <input type="number" id="minStability" min="0" max="5" step="0.5"></label>
  <label>ã‚³ã‚¹ãƒ‘: <input type="number" id="minCost" min="0" max="5" step="0.5"></label>
  <label>è€ä¹…æ€§: <input type="number" id="minDurability" min="0" max="5" step="0.5"></label>
    <!-- å¿…è¦ã«å¿œã˜ã¦è¿½åŠ  -->
  </fieldset>

  <fieldset>
  <legend>ãƒ–ãƒ©ãƒ³ãƒ‰ã§çµã‚Šè¾¼ã¿</legend>
  <label><input type="checkbox" class="brandCheckbox" value="nike"> NIKE</label>
  <label><input type="checkbox" class="brandCheckbox" value="asics"> ASICS</label>
  <label><input type="checkbox" class="brandCheckbox" value="hoka"> HOKA</label>
  <label><input type="checkbox" class="brandCheckbox" value="puma"> PUMA</label>
  <label><input type="checkbox" class="brandCheckbox" value="adidas"> ADIDAS</label>
  <label><input type="checkbox" class="brandCheckbox" value="on"> ON</label>
  <label><input type="checkbox" class="brandCheckbox" value="newbalance"> NEW BALANCE</label>
  <label><input type="checkbox" class="brandCheckbox" value="mizuno"> MIZUNO</label>
</fieldset>


  <button id="filterButton">çµã‚Šè¾¼ã‚€</button>

  

</div>
<div id="filterInfo" style="margin-top:10px; font-size:14px; color:#555;"></div>


   
  <table class="shoes-table">
 
 <tbody>
  <% shoes.forEach(function(shoe, i) { %>
     <% let zebraClass = i % 2 === 0 ? "zebra-a" : "zebra-b"; %>
    <!-- ã‚·ãƒ¥ãƒ¼ã‚ºåã®è¡Œ -->
    <tr class="spacer-row">
        <td colspan="2" class="spacer-row td"></td>
    </tr>
    <tr>
      <td class="name-cell" colspan="2"><strong><%= shoe.name %></strong></td>
      
    </tr>
    <!-- ç”»åƒï¼‹ã‚¹ãƒšãƒƒã‚¯ -->
    <tr >
      <th class="col-img">ç”»åƒ</th>
      <th class="col-chart" colspan="2">è©•ä¾¡ãƒãƒ£ãƒ¼ãƒˆ</th>
      <th class="col-brand">ãƒ–ãƒ©ãƒ³ãƒ‰</th>
      <th class="col-weight">é‡ã•</th>
      <th class="col-midsole" colspan="2">ãƒŸãƒƒãƒ‰ã‚½ãƒ¼ãƒ«</th>
      <th class="col-drop">ãƒ‰ãƒ­ãƒƒãƒ—</th>
      <th class="col-drop">ã‚ªãƒ•ã‚»ãƒƒãƒˆ</th>
      <th class="col-purpose" colspan="2">ç”¨é€”</th>
      <th class="col-price">å€¤æ®µ</th>
      <th class="col-rating">ç·åˆè©•ä¾¡</th>
    </tr>
    <tr>
  <td class="img-cell" rowspan="3" data-label="ç”»åƒ">
    <img src="<%= shoe.image %>" class="shoe-table-img">
    <div class="img-actions">
      <a href="/shoes/<%= shoe.id %>" class="detail-btn">è©³ç´° â–¼</a>
      <a href="<%= shoe.buyUrl %>" target="_blank" class="buy-btn">è³¼å…¥</a>
    </div>
    <div class="comment-anchor" data-shoe-id="<%= shoe.id %>"></div>
  </td>
  <td class="col-chart" rowspan="3" colspan="2" data-label="è©•ä¾¡ãƒãƒ£ãƒ¼ãƒˆ">
    <canvas id="chart-<%= shoe.id %>" width="30" height="30"></canvas>
  </td>
  <td class="col-brand" data-label="ãƒ–ãƒ©ãƒ³ãƒ‰"><%= shoe.brand %></td>
  <td class="col-weight" data-label="é‡ã•"><%= shoe.weight %></td>
  <td class="col-midsole" colspan="2" data-label="ãƒŸãƒƒãƒ‰ã‚½ãƒ¼ãƒ«"><%= shoe.midsole %></td>
  <td class="col-drop" data-label="ãƒ‰ãƒ­ãƒƒãƒ—"><%= shoe.drop %></td>
  <td class="col-offset" data-label="ã‚ªãƒ•ã‚»ãƒƒãƒˆ"><%= shoe.offset %></td>
  <td class="col-purpose" colspan="2" data-label="ç”¨é€”"><%= shoe.purpose %></td>
  <td class="col-price" data-label="å€¤æ®µ"><%= shoe.price %></td>
  <td class="col-rating" data-label="ç·åˆè©•ä¾¡"><%= shoe.rating %></td>
</tr>

<tr>
  <th class="perf-th">ã‚¯ãƒƒã‚·ãƒ§ãƒ³</th>
  <th class="perf-th">å®‰å®šæ€§</th>
  <th class="perf-th">è»½ã•</th>
  <th class="perf-th">ã‚³ã‚¹ãƒ‘</th>
  <th class="perf-th">å±¥ãå¿ƒåœ°</th>
  <th class="perf-th">ãƒ‡ã‚¶ã‚¤ãƒ³</th>
  <th class="perf-th">é€šæ°—æ€§</th>
  <th class="perf-th">ã‚¹ãƒ”ãƒ¼ãƒ‰</th>
  <th class="perf-th">ã‚°ãƒªãƒƒãƒ—</th>
  <th class="perf-th">è€ä¹…æ€§</th>
</tr>

<tr class="score-row">
  <td class="perf-td" data-label="ã‚¯ãƒƒã‚·ãƒ§ãƒ³"><%= shoe.chartData[0] %></td>
  <td class="perf-td" data-label="å®‰å®šæ€§"><%= shoe.chartData[1] %></td>
  <td class="perf-td" data-label="è»½ã•"><%= shoe.chartData[2] %></td>
  <td class="perf-td" data-label="ã‚³ã‚¹ãƒ‘"><%= shoe.chartData[3] %></td>
  <td class="perf-td" data-label="å±¥ãå¿ƒåœ°"><%= shoe.chartData[4] %></td>
  <td class="perf-td" data-label="ãƒ‡ã‚¶ã‚¤ãƒ³"><%= shoe.chartData[5] %></td>
  <td class="perf-td" data-label="é€šæ°—æ€§"><%= shoe.chartData[6] %></td>
  <td class="perf-td" data-label="ã‚¹ãƒ”ãƒ¼ãƒ‰"><%= shoe.chartData[7] %></td>
  <td class="perf-td" data-label="ã‚°ãƒªãƒƒãƒ—"><%= shoe.chartData[8] %></td>
  <td class="perf-td" data-label="è€ä¹…æ€§"><%= shoe.chartData[9] %></td>
</tr>
<% }) %>

</tbody>
</table>

</main>

<!-- ãƒ–ãƒ­ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section class="blog-section">
  <div class="blog-container">
    <h2 class="blog-title">ğŸƒâ€â™‚ï¸ ãƒ©ãƒ³ãƒŠãƒ¼ã®ãŸã‚ã®ãƒ–ãƒ­ã‚°</h2>
    <p class="blog-description">ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚®ã‚¢ã‚„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã«é–¢ã™ã‚‹å®Ÿä½“é¨“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚</p>
    
    <div class="blog-cards">
      <article class="blog-card">
        <div class="blog-card-header">
          <span class="blog-category">GEAR</span>
          <time class="blog-date">2025-09-24</time>
        </div>
        <h3 class="blog-card-title">
          <a href="/blog/oldspice">ã€ãƒ©ãƒ³ãƒŠãƒ¼å¿…è¦‹ã€‘Old Spiceãƒ‡ã‚ªãƒ‰ãƒ©ãƒ³ãƒˆã§èµ°ã£ãŸå¾Œã‚‚"çˆ½ã‚„ã‹ãƒ©ãƒ³ãƒŠãƒ¼"ã«</a>
        </h3>
        <p class="blog-card-excerpt">ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°å¾Œã®å¤§æ•µã€Œæ±—ã¨ãƒ‹ã‚ªã‚¤ã€â€•â€•ãã®ä¸å®‰ã‚’ä¸¸ã”ã¨æ¸›ã‚‰ã—ã¦ãã‚ŒãŸã®ãŒï¼Œã‚¢ãƒ¡ãƒªã‚«ç™ºã®Old Spiceã ã£ãŸï¼å®Ÿéš›ã«èµ°ã‚‹ç”Ÿæ´»ã®ä¸­ã§åŠ¹ã„ãŸç†ç”±ã¨ä½¿ã„åˆ†ã‘ã‚’ã¾ã¨ã‚ãŸï¼</p>
        <div class="blog-card-footer">
          <span class="blog-author">by Kiyoshi Roshiro</span>
          <a href="/blog/oldspice" class="blog-read-more">ç¶šãã‚’èª­ã‚€ â†’</a>
        </div>
      </article>
    </div>
  </div>
</section>

<style>
.blog-section {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  padding: 60px 20px;
  margin-top: 40px;
}

.blog-container {
  max-width: 1200px;
  margin: 0 auto;
}

.blog-title {
  font-size: clamp(24px, 3vw, 32px);
  font-weight: 800;
  text-align: center;
  margin-bottom: 10px;
  color: #2d3748;
}

.blog-description {
  text-align: center;
  color: #718096;
  margin-bottom: 40px;
  font-size: 16px;
}

.blog-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 24px;
  margin-top: 30px;
}

.blog-card {
  background: white;
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 25px rgba(0, 0, 0, 0.03);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border: 1px solid #e2e8f0;
}

.blog-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08), 0 15px 35px rgba(0, 0, 0, 0.05);
}

.blog-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.blog-category {
  background: linear-gradient(135deg, #ff2f6d, #ff6b3d);
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.blog-date {
  color: #a0aec0;
  font-size: 14px;
}

.blog-card-title {
  margin: 0 0 12px 0;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.4;
}

.blog-card-title a {
  color: #2d3748;
  text-decoration: none;
  transition: color 0.2s ease;
}

.blog-card-title a:hover {
  color: #ff2f6d;
}

.blog-card-excerpt {
  color: #4a5568;
  line-height: 1.6;
  margin-bottom: 20px;
  font-size: 14px;
}

.blog-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid #e2e8f0;
}

.blog-author {
  color: #718096;
  font-size: 14px;
}

.blog-read-more {
  color: #ff2f6d;
  text-decoration: none;
  font-weight: 600;
  font-size: 14px;
  transition: color 0.2s ease;
}

.blog-read-more:hover {
  color: #e53e3e;
}

@media (max-width: 768px) {
  .blog-section {
    padding: 40px 16px;
  }
  
  .blog-cards {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .blog-card {
    padding: 20px;
  }
  
  .blog-card-footer {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
}
</style>




<script>
  window.onload = function () {
    const shoeList = <%- JSON.stringify(shoes) %>;

    // æ¤œç´¢å‡¦ç†
    document.getElementById('searchInput').addEventListener('input', function () {
          
      const keyword = this.value.toLowerCase();
      const rows = document.querySelectorAll('.shoes-table tbody > tr');

      for (let i = 0; i < rows.length; i++) {
        const row = rows[i];
        const nameCell = row.querySelector('.name-cell');

        if (nameCell) {
          const shoeName = nameCell.textContent.toLowerCase();
          const match = shoeName.includes(keyword);

          for (let j = 0; j < 6; j++) {
            const targetRow = rows[i - 1 + j];
            if (targetRow) {
              targetRow.style.display = match ? '' : 'none';
            }
          }
        }
      }
    });

    // çµã‚Šè¾¼ã¿å‡¦ç†
 // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãƒ©ãƒ™ãƒ«ã®æ›´æ–°
 
function updateSliderLabels() {
  document.getElementById("priceMinValue").textContent =
    document.getElementById("priceMin").value + "å††";
  document.getElementById("priceMaxValue").textContent =
    document.getElementById("priceMax").value + "å††";
  document.getElementById("weightMinValue").textContent =
    document.getElementById("weightMin").value + "g";
  document.getElementById("weightMaxValue").textContent =
    document.getElementById("weightMax").value + "g";
}
function updateDropLabels() {
  document.getElementById("dropMinValue").textContent =
    document.getElementById("dropMin").value + "mm";
  document.getElementById("dropMaxValue").textContent =
    document.getElementById("dropMax").value + "mm";
}
function updateRangeDisplays() {
  const priceMin = document.getElementById("priceMin").value;
  const priceMax = document.getElementById("priceMax").value;
  const weightMin = document.getElementById("weightMin").value;
  const weightMax = document.getElementById("weightMax").value;

  document.getElementById("priceRangeDisplay").textContent =
    `ä¾¡æ ¼: ${priceMin}å††ã€œ${priceMax}å††`;
  document.getElementById("weightRangeDisplay").textContent =
    `é‡ã•: ${weightMin}gã€œ${weightMax}g`;
}

// åˆæœŸè¡¨ç¤º
updateSliderLabels();
updateRangeDisplays();
updateDropLabels();
// ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å¤‰åŒ–ã§è¡¨ç¤ºæ›´æ–°
["priceMin", "priceMax", "weightMin", "weightMax"].forEach(id => {
  document.getElementById(id).addEventListener("input", () => {
    updateSliderLabels();
    updateRangeDisplays();
  });
});
["dropMin", "dropMax"].forEach(id => {
  document.getElementById(id).addEventListener("input", updateDropLabels);
});

document.getElementById("filterButton").addEventListener("click", () => {
  const filters = {
    weightRange: [
      parseInt(document.getElementById("weightMin").value),
      parseInt(document.getElementById("weightMax").value)
    ],
    priceRange: [
      parseInt(document.getElementById("priceMin").value),
      parseInt(document.getElementById("priceMax").value)
    ],
    minScores: {}
  };
const dropMin = parseInt(document.getElementById("dropMin")?.value);
const dropMax = parseInt(document.getElementById("dropMax")?.value);
filters.dropRange = [isNaN(dropMin) ? 0 : dropMin, isNaN(dropMax) ? 20 : dropMax];

  const getVal = id => parseFloat(document.getElementById(id)?.value);
  const scoreLabels = {
    "ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§": "minCushion",
    "ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½": "minSpeed",
    "å®‰å®šæ€§": "minStability",
    "ã‚³ã‚¹ãƒ‘": "minCost",
    "ãƒ‡ã‚¶ã‚¤ãƒ³": "minDesign",
    "è€ä¹…æ€§": "minDurability"
  };
  for (const [label, id] of Object.entries(scoreLabels)) {
    const val = getVal(id);
    if (!isNaN(val)) filters.minScores[label] = val;
  }

  // ãƒ–ãƒ©ãƒ³ãƒ‰ã¨åšã¿ã®å–å¾—
 filters.selectedBrands = Array.from(document.querySelectorAll('.brandCheckbox:checked'))
  .map(cb => cb.value.toLowerCase());

  

  // è¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆ
  const infoText = `
    é‡ã•: ${filters.weightRange[0]}ã€œ${filters.weightRange[1]}gï¼Œ
    ä¾¡æ ¼: ${filters.priceRange[0]}ã€œ${filters.priceRange[1]}å††ï¼Œ
    ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§: ${filters.minScores["ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Šï¼Œ
    ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½: ${filters.minScores["ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Šï¼Œ
    å®‰å®šæ€§: ${filters.minScores["å®‰å®šæ€§"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Šï¼Œ
    ã‚³ã‚¹ãƒ‘: ${filters.minScores["ã‚³ã‚¹ãƒ‘"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Šï¼Œ
    ãƒ‡ã‚¶ã‚¤ãƒ³: ${filters.minScores["ãƒ‡ã‚¶ã‚¤ãƒ³"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Šï¼Œ
    è€ä¹…æ€§: ${filters.minScores["è€ä¹…æ€§"] ?? "æŒ‡å®šãªã—"}ä»¥ä¸Š
  `;
  document.getElementById("filterInfo").textContent = infoText;

  filterShoesDom(filters);
});

function filterShoesDom(filters) {
  const rows = Array.from(document.querySelectorAll('.shoes-table tbody > tr'));

  for (let i = 0; i < rows.length; i++) {
    const row = rows[i];
    if (!row.classList.contains('spacer-row')) continue;

    const groupRows = rows.slice(i, i + 6);
    const dataRow = groupRows[5];
    const weightCell = groupRows[3]?.querySelector('.col-weight');
    const priceCell = groupRows[3]?.querySelector('.col-price');
  const brandCell = groupRows[3]?.querySelector('.col-brand') || groupRows[3]?.querySelector('.col-brand');
const brand = brandCell?.textContent?.trim().toLowerCase();
console.log("brand:", brand, "selected:", filters.selectedBrands);
   

    if (!dataRow || !weightCell || !priceCell) continue;

    const weight = parseInt(weightCell.textContent);
    const price = parseInt(priceCell.textContent.replace(/[^\d]/g, ''));
    const tds = dataRow.querySelectorAll('.perf-td');
    const chartData = Array.from(tds).map(td => parseFloat(td.textContent));
   let fore = 0, heel = 0;
const offsetText = groupRows[3]?.querySelector('.col-offset')?.textContent || '';

if (offsetText.includes('/')) {
  const parts = offsetText.split('/').map(part => parseInt(part.trim()) || 0);
  if (parts.length === 2) {
    fore = parts[0];
    heel = parts[1];
  }
}

const drop = Math.abs(heel - fore); 
   const brandOk = filters.selectedBrands.length === 0 || filters.selectedBrands.includes(brand);
    const dropOk = drop >= filters.dropRange[0] && drop <= filters.dropRange[1];
    const meets = brandOk  &&dropOk && checkShoeAgainstFilter(chartData, weight, price, filters);

    groupRows.forEach(tr => {
      tr.style.display = meets ? '' : 'none';
    });

    i += 5;
  }
}

function checkShoeAgainstFilter(chartData, weight, price, filters) {
  const { weightRange, priceRange, minScores } = filters;

  if (weight < weightRange[0] || weight > weightRange[1]) return false;
  if (price < priceRange[0] || price > priceRange[1]) return false;

  const indexMap = {
    "ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§": 0,
    "å®‰å®šæ€§": 1,
    "è»½ã•": 2,
    "ã‚³ã‚¹ãƒ‘": 3,
    "å±¥ãå¿ƒåœ°": 4,
    "ãƒ‡ã‚¶ã‚¤ãƒ³": 5,
    "é€šæ°—æ€§": 6,
    "ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½": 7,
    "ã‚°ãƒªãƒƒãƒ—": 8,
    "è€ä¹…æ€§": 9
  };

  return Object.entries(minScores).every(([label, min]) => {
    const idx = indexMap[label];
    return idx === undefined || chartData[idx] >= min;
  });
}

    // ãƒãƒ£ãƒ¼ãƒˆæç”»
    const charts = {};
    <% shoes.forEach(function(shoe) { %>
      var ctxId = 'chart-<%= shoe.id %>';
      var ctx = document.getElementById(ctxId);

      console.log("canvas ID:", ctxId);
      console.log("canvas:", ctx);
      console.log("chartData:", <%- JSON.stringify(shoe.chartData) %>);

      if (ctx) {
        if (charts[ctxId]) {
          charts[ctxId].destroy();
        }

        charts[ctxId] = new Chart(ctx, {
          type: 'radar',
          data: {
            labels: ['ã‚¯', 'å®‰', 'è»½', 'ã‚³', 'å±¥', 'ãƒ‡', 'é€š', 'é€Ÿ', 'ã‚°', 'è€'],
            datasets: [{
              label: 'è©•ä¾¡',
              data: <%- JSON.stringify(shoe.chartData) %>,
              fill: true,
              borderWidth: 1,
              pointRadius: 1
            }]
          },
          options: {
            scales: {
              r: {
                pointLabels: { font: { size: 9 } },
                ticks: { display: false },
                min: 0,
                max: 5
              }
            },
            plugins: {
              legend: { display: false }
            },
            elements: {
              line: { borderWidth: 2 }
            }
          }
        });
      } else {
        console.warn("canvasãŒè¦‹ã¤ã‹ã‚‰ãªã„:", ctxId);
      }
    <% }); %>

    // åˆæœŸè¡¨ç¤º
    renderShoeList(shoeList);

    function renderShoeList(shoes) {
      const container = document.getElementById("shoeList");
      if (!container) return;
      container.innerHTML = "";

      if (shoes.length === 0) {
        container.innerHTML = "<p>è©²å½“ã™ã‚‹ã‚·ãƒ¥ãƒ¼ã‚ºãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>";
        return;
      }

      shoes.forEach(shoe => {
        const div = document.createElement("div");
        div.className = "shoe-item";
        div.textContent = `âœ… ${shoe.name}ï¼ˆ${shoe.weight}g / Â¥${shoe.price}ï¼‰`;
        container.appendChild(div);
      });
    }

    function filterShoes(shoes, filters) {
      return shoes.filter(shoe => {
        const { weightRange, priceRange, minScores } = filters;
        const inWeight = shoe.weight >= weightRange[0] && shoe.weight <= weightRange[1];
        const inPrice = shoe.price >= priceRange[0] && shoe.price <= priceRange[1];

        const meetsScores = Object.entries(minScores).every(([key, min]) => {
          const index = getScoreIndex(key);
          return shoe.chartData[index] >= min;
        });

        return inWeight && inPrice && meetsScores;
      });
    }

    function getScoreIndex(label) {
      const labels = ["ã‚¯ãƒƒã‚·ãƒ§ãƒ³æ€§", "å®‰å®šæ€§", "è»½ã•", "ã‚³ã‚¹ãƒ‘", "å±¥ãå¿ƒåœ°", "ãƒ‡ã‚¶ã‚¤ãƒ³", "é€šæ°—æ€§", "ã‚¹ãƒ”ãƒ¼ãƒ‰æ€§èƒ½", "ã‚°ãƒªãƒƒãƒ—", "è€ä¹…æ€§"];
      return labels.indexOf(label);
    }
  };
  const toggleBtn = document.getElementById("toggleFilter");
  const filterBox = document.querySelector(".filter-container");

  toggleBtn.addEventListener("click", () => {
    filterBox.classList.toggle("open");
    toggleBtn.textContent = filterBox.classList.contains("open")
      ? "â–² çµã‚Šè¾¼ã¿æ¡ä»¶ã‚’éš ã™"
      : "â–¼ çµã‚Šè¾¼ã¿æ¡ä»¶ã‚’è¡¨ç¤º";
  });


</script>
<script type="module">
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';

  const firebaseConfig = {
    apiKey: "AIzaSyBbFaRwIiYw61X5yKXhvt1nGw-MRSgagLo",
    authDomain: "mystlide.firebaseapp.com",
    databaseURL: "https://mystlide-default-rtdb.firebaseio.com",
    projectId: "mystlide",
    storageBucket: "mystlide.firebasestorage.app",
    messagingSenderId: "823773802251",
    appId: "1:823773802251:web:823d531f428f02f463fc0e",
    measurementId: "G-E2V49FQSMX"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  document.addEventListener("DOMContentLoaded", () => {
    const loginBtn = document.getElementById("login-btn");
    const logoutBtn = document.getElementById("logout-btn");
    const userName = document.getElementById("user-name");
    let isLoggingIn = false;

    loginBtn?.addEventListener("click", async () => {
      if (isLoggingIn) return;
      isLoggingIn = true;

      try {
        await signInWithPopup(auth, provider);
      } catch (err) {
        alert("ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—ï¼š" + err.message);
        console.error(err);
      } finally {
        isLoggingIn = false;
      }
    });

    logoutBtn?.addEventListener("click", () => {
      signOut(auth);
    });

    onAuthStateChanged(auth, (user) => {
      if (user) {
        loginBtn.style.display = "none";
        logoutBtn.style.display = "inline";
        userName.style.display = "inline";
        userName.textContent = `${user.displayName} ã•ã‚“`;
      } else {
        loginBtn.style.display = "inline";
        logoutBtn.style.display = "none";
        userName.style.display = "none";
      }
    });
  });
</script>

 <script src="/js/comment.js"></script> 
</body>
</html>

